<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>WebAR NFT Video Debug</title>

  <!-- A-Frame -->
  <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>

  <!-- AR.js NFT -->
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>

  <script>
    window.onload = function() {
      // Video handler component
      AFRAME.registerComponent('videohandler', {
        init: function () {
          const marker = this.el;
          this.vid = document.querySelector("#vid");

          this.vid.addEventListener('loadeddata', () => {
            console.log("Video loaded and ready!");
          });

          marker.addEventListener('markerFound', () => {
            console.log("Marker detected!");
            // Hide loader
            document.querySelector('.arjs-loader').style.display = 'none';
            // Ensure autoplay works
            this.vid.muted = true;

            const playPromise = this.vid.play();
            if (playPromise !== undefined) {
              playPromise
                .then(() => console.log("Video playing"))
                .catch(err => console.log("Video play failed:", err));
            }
          });

          marker.addEventListener('markerLost', () => {
            console.log("Marker lost");
            this.vid.pause();
            this.vid.currentTime = 0;
          });
        }
      });
    };
  </script>

  <style>
    body { margin: 0; overflow: hidden; }
    .arjs-loader {
      height: 100%;
      width: 100%;
      position: absolute;
      top: 0;
      left: 0;
      background-color: rgba(0,0,0,0.8);
      z-index: 9999;
      display: flex;
      justify-content: cent
