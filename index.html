<body style="margin:0; overflow:hidden; font-family: Arial;">
<div id="ui">
  <button id="startBtn">Start AR</button>
  <div id="status">Idle</div>
</div>

<a-scene
  embedded
  vr-mode-ui="enabled: false"
  arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
  id="scene"
>
  <a-nft
    type="nft"
    url="old"
    smooth="true"
    smoothCount="10"
    smoothTolerance="0.01"
    smoothThreshold="5"
    id="marker"
  >
    <a-plane
      rotation="-90 0 0"
      width="1"
      height="1"
      material="src: url(new.jpg); side: double"
      visible="false"
      id="replacement"
    ></a-plane>
  </a-nft>

  <a-entity camera></a-entity>
</a-scene>

<script>
const startBtn = document.getElementById('startBtn');
const status = document.getElementById('status');
const marker = document.getElementById('marker');
const replacement = document.getElementById('replacement');

startBtn.addEventListener('click', () => {
  status.innerText = 'Initializing AR...';

  // NFT events
  marker.addEventListener('markerFound', () => {
    replacement.setAttribute('visible', 'true');
    status.innerText = 'Marker detected â€” replacement visible';
  });
  marker.addEventListener('markerLost', () => {
    replacement.setAttribute('visible', 'false');
    status.innerText = 'Marker lost';
  });

  startBtn.style.display = 'none';
});
</script>
</body>
