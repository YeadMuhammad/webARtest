<script>
  const startBtn = document.getElementById('startButton');
  const sceneEl = document.getElementById('scene');

  startBtn.addEventListener('click', async () => {
    startBtn.style.display = 'none';
    sceneEl.style.display = 'block';

    // Wait for the A-Frame scene to initialize fully
    if (!sceneEl.hasLoaded) {
      await new Promise(resolve => sceneEl.addEventListener('loaded', resolve));
    }

    const mindarComponent = sceneEl.components['mindar-image'];
    if (mindarComponent) {
      try {
        await mindarComponent.start();
      } catch (err) {
        alert("MindAR failed to start: " + err);
        console.error(err);
      }
    } else {
      alert("MindAR component not found. Please check your <a-scene> attributes.");
    }
  });
</script>
