<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AR NFT Replacement</title>
<script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@1.4.2/dist/aframe.min.js"></script>
<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
<style>
  body { margin:0; overflow:hidden; background:#000; }
  #startBtn {
    position:absolute;
    top:50%; left:50%;
    transform:translate(-50%, -50%);
    z-index:999;
    padding:12px 24px;
    font-size:18px;
    cursor:pointer;
  }
</style>
</head>
<body>
<button id="startBtn">Start Camera</button>

<script>
document.getElementById('startBtn').addEventListener('click', () => {
  document.getElementById('startBtn').style.display = 'none';

  const scene = document.createElement('a-scene');
  scene.setAttribute('embedded', '');
  scene.setAttribute('vr-mode-ui', 'enabled:false');
  scene.setAttribute('renderer', 'logarithmicDepthBuffer:true');
  scene.setAttribute('arjs', 'trackingMethod:best;sourceType:webcam;debugUIEnabled:false;');

  const nft = document.createElement('a-nft');
  nft.setAttribute('type', 'nft');
  nft.setAttribute('url', 'old'); // Your NFT base name (old.fset etc.)
  nft.setAttribute('smooth', 'true');
  nft.setAttribute('smoothCount', '10');
  nft.setAttribute('smoothTolerance', '0.01');
  nft.setAttribute('smoothThreshold', '5');

  // 3D replacement example (plane)
  const plane = document.createElement('a-plane');
  plane.setAttribute('src', 'new.jpg'); // Your replacement image
  plane.setAttribute('rotation', '-90 0 0');
  plane.setAttribute('width', '2');
  plane.setAttribute('height', '2');
  plane.setAttribute('visible', 'false');
  nft.appendChild(plane);

  nft.addEventListener('markerFound', () => plane.setAttribute('visible', true));
  nft.addEventListener('markerLost', () => plane.setAttribute('visible', false));

  scene.appendChild(nft);

  const camera = document.createElement('a-entity');
  camera.setAttribute('camera', '');
  scene.appendChild(camera);

  document.body.appendChild(scene);
});
</script>
</body>
</html>
